#US Primaries 2016: State Map Tutorial

In this tutorial we explain how to create your own us election map, how to replace the seed data with real data and how to tweak styles and colors.
<a href="http://www.datamap.io">Datamap</a> offers complete bundles containing everything you need to visualize the election results.
We use the <a href="https://elections.datamap.io/us/2016/primaries/states/iowa/republicans">2016 Republican Iowa Caucus Bundle</a> as our example.

##iFrame
Let's start with the easiest step, embedding <a href="https://elections.datamap.io/us/2016/primaries/states/iowa/republicans">this map</a> in your existing webpage. Add "iframe" at the end of the URL <a href="https://elections.datamap.io/us/2016/primaries/states/iowa/republicans/iframe">like so</a>.  

SAY HOW TO EMBED


##Download and unzip
Now that you know how to embed the Iowa datamap from elsewhere, you can also download the same map and open it locally. 

Go to <a href="https://elections.datamap.io/us/2016/primaries/states/iowa/republicans#what_you_get">this page</a> and choose your price which ranges from free or $0 to $50. Then download the rep_primary_iowa_2016.zip and unzip it. 

The folder structure after unzipping looks like this:

```
rep_primary_iowa_2016/   
    - index.html   
    - README.txt       
    resources/     
        css/   
           - datamap.css           
        data/    
           - candidates_rep_2016.json   
           - EMPTY_rep_primary_iowa_county_2016.csv   
           - SEED_rep_primary_iowa_county_2016.csv           
        img/   
           -... several photos of candidates           
        js/   
           -... several javascript files like d3, topoJSON etc.           
        map/   
           - iowa_counties_and_cities_20100326.json    
```


As your reading this tutorial, you don't need to open the README.txt. But before we open the index.html file which contains our map, let us quickly explain the second most important part: the data folder.


##The data
If you want to change something, e.g. replace fake SEED data with REAL caucus data, then it is here.

The data folder contains the candidates_rep_2016.json (a csv file would be nicer) with information about the candidates:
first and last name, occupation, party, status and bgcolor which stands for the background color. This color is the one you are seeing on the map and which is asscociated with the candidate. We used the <a href="http://colorbrewer2.org/">Color Brewer</a> qualitative colors for our candidates, but feel free to change them.

The data folder also contains the SEED_rep_primary_iowa_county_2016.csv and EMPTY_rep_primary_iowa_county_2016.csv.
The EMPTY file does not contain the number of votes per candidate in any given county, whereas the SEED data file contains made up numbers.
Once you have the real numbers, you can start plugging them into the EMPTY file and rename it SEED and your data visualization is automatically updated.

Both files have exactly the same structure, one county per row and columns for the county (id, name) and all relevant candidates.

| id     | county_name  | trump | rubio | bush | randpaul | ... other candidates | repnopref | repother |
|--------|--------------|-------|-------|------|----------|----------------------|-----------|----------|
|84019001| Adair County |  NA   |   NA  |  NA  |    NA    |        NA            |    NA     |    NA    |

The id identifies the shape in your map (iowa_counties_and_cities_20100326.json), followed by the county name. Then we have all candidates. 
The names used here function as an id for the candidate. If there are unexpectedly more candidates, you could simply add another column here (and complete the information in the candidates_rep_2016.json.
The last two columns "repnopref" and "repother" simply stand for "No Preference" and "Other". 


##The index.html file


      
******


 NOT PART OF THE ARTICLE        


******


How to use our bundles
The bundle can be installed on your server and immediataley displayed.
You can also use the map via an iframe.

Update the SEED Data with the REAL data on February 1st


- Map 2012 / Maps 2016 or Real vs Seed Data

- REF File

- Plugin your own data
  Seed Data
  Empty Data


- iFrame

Conclusion




DATAMAP BUNDLE            
(c) datamap.io, 2016     



HOW TO OPEN YOUR DATA VISUALIZATION?
====================================

After downloading and unzipping, open the folder.
To open the data visualization, click on the index.html file.

Most browsers prevent you from running the file, when you do not have a local or 
remote server involved.

FIREFOX, NO SERVER NEEEDED
If you have Firefox, your file should open in the browser and work immediately.


CHROME & SAFARI: A LOCAL SERVER NEEDED
If you have Chrome or Safari, you need to fire up a local web server first. 
We recommend http-server (https://www.npmjs.com/package/http-server), 
but any server will do.
A web server is needed to skirt security restrictions loading data out of the 
local file system. On the command line, run:

http-server -p 8008 &

If you visit http://localhost:8008, you should now see the data visualization.


REMOTE SERVER
If you upload the unzipped bundle to any remote server, you can open the index.html 
file with any modern browser.


NOTE: Do not use old IE version to see data visualizations. They won't work.



REAL DATA, SEED DATA, EMPTY DATA
================================

REAL DATA
This is data which we acquired post election. On the download page, we always indicate
the source.

SEED DATA
Seed data is "FAKE" data, but mimics real data. The purpose of seed data is to see how 
your data visualization will look.

EMPTY DATA
This is the file where you can plug in the real data. Placeholders should make that easy.
If you are still not sure, compare with the seed data file, to see what to put in.